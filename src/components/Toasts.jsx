import { createContext,useContext,useState,useCallback } from 'react'; const C=createContext(null); export function useToast(){return useContext(C)} export default function Toasts(){ const [items,setItems]=useState([]); const push=useCallback(t=>{ const id=crypto.randomUUID(); setItems(p=>[...p,{id,...t}]); setTimeout(()=>setItems(p=>p.filter(x=>x.id!==id)), t.timeout||3000) },[]); return (<C.Provider value={{push}}><div className='fixed bottom-4 right-4 space-y-2 z-50'>{items.map(i=>(<div key={i.id} className={'rounded-xl2 px-4 py-3 shadow-e2 '+(i.type==='success'?'bg-core-success/20':i.type==='error'?'bg-core-danger/20':i.type==='warning'?'bg-core-warning/20':'bg-white/10')}><div className='text-sm'>{i.message}</div></div>))}</div></C.Provider>) }
